{% extends "base.html" %}

{% block title %}LoRA 圖片生成{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/generate_lora.css') }}">
{% endblock %}

{% block content %}
<h2>LoRA 圖片生成器</h2>

<!-- 🔺 模型上傳區 -->
<div class="card">
    <form id="uploadLoraForm" enctype="multipart/form-data" method="post" onsubmit="return false;">
        <div class="form-group">
            <label for="lora_file">上傳 LoRA 模型（.safetensors）：</label>
            <input type="file" id="lora_file" name="lora_file" accept=".safetensors" required>
        </div>
        <button type="submit">上傳模型(請等跳出上傳成功提示)</button>
    </form>
</div>

<hr>

<!-- 🔻 生成圖片區 -->
<div class="card">
    <form id="loraForm" method="post" onsubmit="return false;">
        <div class="form-group">
            <label for="prompt">提示詞：</label>
            <textarea id="prompt" name="prompt" placeholder="輸入提示詞..." rows="3" required></textarea>
            <div class="prompt-buttons">
                <button type="button" onclick="fillExamplePrompt(1)">自拍照</button>
                <button type="button" onclick="fillExamplePrompt(2)">寫真照</button>
            </div>
        </div>
        <button type="submit">生成圖片</button>
    </form>
</div>

<div class="preview-container" id="previewArea"></div>

{% endblock %}

{% block extra_js %}
    <script src="{{ url_for('static', filename='js/generate_lora.js') }}"></script>
{% endblock %}
